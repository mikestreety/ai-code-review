<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Review Report - GEMINI</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8fafc; color: #1e293b; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: white; border-radius: 8px; padding: 24px; margin-bottom: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .title { font-size: 24px; font-weight: 600; margin-bottom: 8px; color: #0f172a; }
        .subtitle { color: #64748b; font-size: 14px; }
        .summary { background: white; border-radius: 8px; padding: 24px; margin-bottom: 24px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .summary h2 { font-size: 18px; margin-bottom: 16px; color: #0f172a; }
        .summary-text { line-height: 1.6; color: #334155; }
        .comments-section h2 { font-size: 18px; margin-bottom: 16px; color: #0f172a; }
        .comment { background: white; border-radius: 8px; padding: 20px; margin-bottom: 16px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border-left: 4px solid #e2e8f0; }
        .comment.issue { border-left-color: #ef4444; }
        .comment.suggestion { border-left-color: #3b82f6; }
        .comment.todo { border-left-color: #f59e0b; }
        .comment.praise { border-left-color: #10b981; }
        .comment.question { border-left-color: #8b5cf6; }
        .comment.nitpick { border-left-color: #6b7280; }
        .comment-header { display: flex; align-items: center; margin-bottom: 12px; }
        .file-path { font-family: 'SF Mono', Consolas, monospace; font-size: 14px; color: #059669; font-weight: 500; }
        .line-number { background: #f1f5f9; color: #475569; padding: 2px 8px; border-radius: 4px; font-family: 'SF Mono', Consolas, monospace; font-size: 12px; margin-left: 12px; }
        .comment-text { line-height: 1.6; color: #334155; }
        .label { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 12px; font-weight: 500; margin-right: 8px; }
        .label.issue { background: #fef2f2; color: #dc2626; }
        .label.suggestion { background: #eff6ff; color: #2563eb; }
        .label.todo { background: #fffbeb; color: #d97706; }
        .label.praise { background: #ecfdf5; color: #059669; }
        .label.question { background: #f3f4f6; color: #7c3aed; }
        .label.nitpick { background: #f9fafb; color: #4b5563; }
        .stats { display: flex; gap: 16px; margin-top: 16px; }
        .stat { background: #f8fafc; padding: 8px 16px; border-radius: 6px; text-align: center; }
        .stat-number { font-size: 18px; font-weight: 600; color: #0f172a; }
        .stat-label { font-size: 12px; color: #64748b; margin-top: 2px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="title">Code Review Report</div>
            <div class="subtitle">Generated by GEMINI â€¢ 7/20/2025, 12:19:33 PM</div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Comments</div>
                </div>
                <div class="stat">
                    <div class="stat-number">0</div>
                    <div class="stat-label">Blocking Issues</div>
                </div>
                <div class="stat">
                    <div class="stat-number">3</div>
                    <div class="stat-label">Praise</div>
                </div>
            </div>
        </div>
        
        <div class="summary">
            <h2>Summary</h2>
            <div class="summary-text">The changes effectively modernize the codebase by removing compatibility code for older TYPO3 versions and adopting current API standards. This simplification aligns the extension with its declared TYPO3 v13 dependency, improving maintainability and correctly handling site resolution through a new resource handler.</div>
        </div>
        
        <div class="comments-section">
            <h2>Detailed Comments</h2>
            
                <div class="comment praise">
                    <div class="comment-header">
                        <span class="label praise">praise</span>
                        <span class="file-path">Classes/DataProcessing/ConstantsProcessor.php</span>
                        <span class="line-number">Line 28</span>
                    </div>
                    <div class="comment-text">Removing the conditional logic for older TYPO3 versions simplifies the code and aligns it with the project's dependency on TYPO3 v13+.</div>
                </div>
                <div class="comment praise">
                    <div class="comment-header">
                        <span class="label praise">praise</span>
                        <span class="file-path">Classes/DataProcessing/SchemaProcessor.php</span>
                        <span class="line-number">Line 24</span>
                    </div>
                    <div class="comment-text">Replacing the global `$GLOBALS['TSFE']->site` with the request attribute `$cObj->getRequest()->getAttribute('site')` is a great modernization step that improves code clarity and testability.</div>
                </div>
                <div class="comment praise">
                    <div class="comment-header">
                        <span class="label praise">praise</span>
                        <span class="file-path">Classes/Resource/Handler/ResourceHandler.php</span>
                        <span class="line-number">Line 18</span>
                    </div>
                    <div class="comment-text">The check for `NullSite` is a good defensive measure that prevents potential runtime errors if the site cannot be resolved from the request.</div>
                </div>
        </div>
    </div>
</body>
</html>